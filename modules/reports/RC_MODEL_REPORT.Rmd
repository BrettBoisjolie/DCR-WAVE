---
title: "RC MODEL REPORT"
params:
  loc: loc
  par: par
  dir: dir
---
<!--This notebook is a model summary for the rcmodel as well as rloadest model...soon
Execution steps for modeling through WAVE APP:
1. Select tab for model (rcmodel or flux...)
2. Select locations and parameters of interest
3. Run Prep Data function - For flux this is all that can be done - show message upon completion with path to input files
4. For rcmodel click run model button -- this executes the RUNRCMODEL script
   -- Two options for model run are A) render a summary report (html) or B) export model results to a directory

-->

```{r eval=TRUE, echo=FALSE}
wd <- 10
ht <- 5

```

#### Rating-Curve Model report for `r par` at `r loc`  
##### Generated by `r Sys.getenv("USERNAME")` on `r Sys.Date()` 

**Model overview:**  
...text  

For more information see Mark Hagemann's manuscript ... 

**Model Summary:**
```{r eval=TRUE, echo=FALSE}
summary <- readRDS(paste0(dir,"rcmodel_sum.rds"))
summary
```


**Model Fit**
```{r eval=TRUE, echo=FALSE}
nse_conc <- readRDS(paste0(dir,"nse_conc.rds"))
nse_conc <- round(nse_conc,2)
nse_load <- readRDS(paste0(dir,"nse_load.rds"))
nse_load <- round(nse_load,2)
```

The Nash-Sutcliffe Efficiency (NSE) measures how well the model can predict the observed data points. Values range from negative infinity to 1, where a value of 1 represents perfect prediction of observed data. A value of zero indicates that the model has the same predictive ability as simply using the mean of the observed data. Negative values indicate that the model has less predictive power than the mean value of the observed data (Krause et al., 2005).  

The NSE for prediction of daily `r par` concentration was `r nse_conc`.  
The NSE for prediction of daily `r par` load was `r nse_load`.  


**Figure 1.**    
```{r fig.width=wd, fig.height=ht, echo=FALSE}
library(png)
library(grid)
img <- readPNG(paste0(dir,"obs_v_prd_c.png"))
 grid.raster(img)
# cat("![](",dir,"obs_v_prd_c.png)", sep = "")
```
<hr>
**Figure 2.**        
```{r fig.width=wd, fig.height=ht, echo=FALSE}
img <- readPNG(paste0(dir,"obs_v_prd_ld.png"))
 grid.raster(img)
# cat("![](",dir,"obs_v_prd_ld.png)", sep = "")
```
<hr>
**Figure 3.**      
```{r fig.width=wd, fig.height=ht, echo=FALSE}
img <- readPNG(paste0(dir,"ts_conc.png"))
 grid.raster(img)
# cat("![](",dir,"ts_conc.png)", sep = "")
```
<hr>
**Figure 4.**      
```{r fig.width=wd, fig.height=ht, echo=FALSE}
img <- readPNG(paste0(dir,"ts_load.png"))
 grid.raster(img)
# cat("![](",dir,"ts_load.png)", sep = "")
```
<hr>
**Figure 5.**      
```{r fig.width=wd, fig.height=ht, echo=FALSE}
img <- readPNG(paste0(dir,"pred_v_obs_c_plot.png"))
 grid.raster(img)
# cat("![](",dir,"pred_v_obs_c_plot.png)", sep = "")
```
<hr>
**Figure 6.**      
```{r fig.width=wd, fig.height=ht, echo=FALSE}
img <- readPNG(paste0(dir,"month_load_plot.png"))
 grid.raster(img)
# cat("![](",dir,"month_load_plot.png)", sep = "")
```
<hr>
**Figure 7.**       
```{r fig.width=wd, fig.height=ht, echo=FALSE}
img <- readPNG(paste0(dir,"annual_load_plot.png"))
 grid.raster(img)
# cat("![](",dir,"annual_load_plot.png)", sep = "")
```
<hr>

#### References

Hagemann, M., D. Kim and M. Park. 2016. *Nutrient and organic carbon loads to a water-supply reservoir: a comparison using semiparametric models*. Journal of Environmental Engineering. 

Krause, P., D.P. Boyle and F. Bäse. 2005. *Comparison of different efficiency criteria for hydrological model assessment*. Advances in Geosciences, 5, 89–9wd.


